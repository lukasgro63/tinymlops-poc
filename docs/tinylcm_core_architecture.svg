<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="700" viewBox="0 0 1000 700">
  <!-- TinyLCM Core Library Package -->
  <rect x="20" y="20" width="960" height="660" fill="white" stroke="black" stroke-width="2"/>
  <text x="470" y="45" text-anchor="middle" font-family="Arial" font-size="16" font-weight="bold">TinyLCM Core Library</text>
  
  <!-- Main Pipelines -->
  <rect x="40" y="60" width="140" height="40" fill="white" stroke="black" stroke-width="1"/>
  <text x="110" y="85" text-anchor="middle" font-family="Arial" font-size="12">InferencePipeline</text>
  
  <rect x="200" y="60" width="140" height="40" fill="white" stroke="black" stroke-width="1"/>
  <text x="270" y="85" text-anchor="middle" font-family="Arial" font-size="12">AdaptivePipeline</text>
  
  <!-- Feature Processing Package -->
  <rect x="40" y="120" width="200" height="120" fill="white" stroke="black" stroke-width="1"/>
  <text x="140" y="140" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Feature Processing</text>
  
  <rect x="50" y="150" width="120" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="110" y="170" text-anchor="middle" font-family="Arial" font-size="10">FeatureExtractors</text>
  
  <rect x="50" y="190" width="120" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="110" y="210" text-anchor="middle" font-family="Arial" font-size="10">FeatureTransformers</text>
  
  <!-- Classification Package -->
  <rect x="260" y="120" width="160" height="120" fill="white" stroke="black" stroke-width="1"/>
  <text x="340" y="140" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Classification</text>
  
  <rect x="270" y="150" width="100" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="320" y="170" text-anchor="middle" font-family="Arial" font-size="10">LightweightKNN</text>
  
  <rect x="270" y="190" width="120" height="30" fill="lightgray" stroke="black" stroke-width="1"/>
  <text x="330" y="210" text-anchor="middle" font-family="Arial" font-size="10">AdaptiveClassifier</text>
  
  <!-- Drift Detection Package -->
  <rect x="440" y="120" width="220" height="120" fill="white" stroke="black" stroke-width="1"/>
  <text x="550" y="140" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Drift Detection</text>
  
  <rect x="450" y="150" width="140" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="520" y="170" text-anchor="middle" font-family="Arial" font-size="10">AutonomousDriftDetectors</text>
  
  <rect x="450" y="190" width="80" height="30" fill="lightgray" stroke="black" stroke-width="1"/>
  <text x="490" y="210" text-anchor="middle" font-family="Arial" font-size="10">DriftDetector</text>
  
  <rect x="540" y="190" width="110" height="30" fill="lightgray" stroke="black" stroke-width="1"/>
  <text x="595" y="210" text-anchor="middle" font-family="Arial" font-size="10">AutonomousDriftDetector</text>
  
  <!-- Adaptation System Package -->
  <rect x="40" y="260" width="200" height="140" fill="white" stroke="black" stroke-width="1"/>
  <text x="140" y="280" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Adaptation System</text>
  
  <rect x="50" y="290" width="100" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="100" y="310" text-anchor="middle" font-family="Arial" font-size="10">QuarantineBuffer</text>
  
  <rect x="50" y="330" width="100" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="100" y="350" text-anchor="middle" font-family="Arial" font-size="10">HeuristicAdapter</text>
  
  <rect x="50" y="370" width="100" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="100" y="390" text-anchor="middle" font-family="Arial" font-size="10">AdaptiveHandlers</text>
  
  <!-- State Management Package -->
  <rect x="260" y="260" width="180" height="140" fill="white" stroke="black" stroke-width="1"/>
  <text x="350" y="280" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">State Management</text>
  
  <rect x="270" y="290" width="140" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="340" y="310" text-anchor="middle" font-family="Arial" font-size="10">AdaptiveStateManager</text>
  
  <rect x="270" y="330" width="120" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="330" y="350" text-anchor="middle" font-family="Arial" font-size="10">AdaptationTracker</text>
  
  <!-- Monitoring Package -->
  <rect x="460" y="260" width="160" height="140" fill="white" stroke="black" stroke-width="1"/>
  <text x="540" y="280" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">Monitoring</text>
  
  <rect x="470" y="290" width="120" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="530" y="310" text-anchor="middle" font-family="Arial" font-size="10">OperationalMonitor</text>
  
  <rect x="470" y="330" width="100" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="520" y="350" text-anchor="middle" font-family="Arial" font-size="10">MetricsCollector</text>
  
  <!-- Storage Package -->
  <rect x="640" y="260" width="160" height="140" fill="white" stroke="black" stroke-width="1"/>
  <text x="720" y="280" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold">On-Device Storage</text>
  
  <rect x="650" y="290" width="80" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="690" y="310" text-anchor="middle" font-family="Arial" font-size="10">DataLogger</text>
  
  <rect x="650" y="330" width="100" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="700" y="350" text-anchor="middle" font-family="Arial" font-size="10">StorageFactory</text>
  
  <!-- External Components -->
  <rect x="820" y="60" width="120" height="30" fill="lightgray" stroke="black" stroke-width="1"/>
  <text x="880" y="80" text-anchor="middle" font-family="Arial" font-size="10">TinySphere Server</text>
  
  <rect x="820" y="100" width="80" height="30" fill="white" stroke="black" stroke-width="1"/>
  <text x="860" y="120" text-anchor="middle" font-family="Arial" font-size="10">SyncClient</text>
  
  <!-- Main Flow Arrows -->
  <!-- IP uses FE -->
  <line x1="180" y1="80" x2="240" y2="80" stroke="black" stroke-width="2"/>
  <line x1="180" y1="80" x2="50" y2="165" stroke="black" stroke-width="2"/>
  <polygon points="50,165 58,161 58,169" fill="black"/>
  <text x="120" y="120" font-family="Arial" font-size="10">uses</text>
  
  <!-- FE transforms FT -->
  <line x1="110" y1="180" x2="110" y2="190" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="110,190 106,182 114,182" fill="black"/>
  <text x="120" y="185" font-family="Arial" font-size="10">transforms</text>
  
  <!-- FT feeds KNN -->
  <line x1="170" y1="205" x2="270" y2="165" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="270,165 262,169 262,161" fill="black"/>
  <text x="200" y="185" font-family="Arial" font-size="10">feeds</text>
  
  <!-- KNN monitors ADD -->
  <line x1="370" y1="165" x2="450" y2="165" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="450,165 442,169 442,161" fill="black"/>
  <text x="390" y="160" font-family="Arial" font-size="10">monitors</text>
  
  <!-- AP extends IP -->
  <line x1="200" y1="80" x2="180" y2="80" stroke="black" stroke-width="2"/>
  <polygon points="180,80 188,76 188,84" fill="black"/>
  <text x="155" y="75" font-family="Arial" font-size="10">extends</text>
  
  <!-- ADD quarantines QB -->
  <line x1="520" y1="180" x2="520" y2="240" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="520" y1="240" x2="100" y2="240" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <line x1="100" y1="240" x2="100" y2="290" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="100,290 96,282 104,282" fill="black"/>
  <text x="300" y="235" font-family="Arial" font-size="10">quarantines</text>
  
  <!-- QB analyzes HA -->
  <line x1="100" y1="320" x2="100" y2="330" stroke="black" stroke-width="2"/>
  <polygon points="100,330 96,322 104,322" fill="black"/>
  <text x="110" y="325" font-family="Arial" font-size="10">analyzes</text>
  
  <!-- HA guides AH -->
  <line x1="100" y1="360" x2="100" y2="370" stroke="black" stroke-width="2" stroke-dasharray="5,5"/>
  <polygon points="100,370 96,362 104,362" fill="black"/>
  <text x="110" y="365" font-family="Arial" font-size="10">guides</text>
  
  <!-- AH adapts KNN -->
  <line x1="150" y1="385" x2="220" y2="385" stroke="black" stroke-width="2"/>
  <line x1="220" y1="385" x2="220" y2="250" stroke="black" stroke-width="2"/>
  <line x1="220" y1="250" x2="320" y2="250" stroke="black" stroke-width="2"/>
  <line x1="320" y1="250" x2="320" y2="180" stroke="black" stroke-width="2"/>
  <polygon points="320,180 316,188 324,188" fill="black"/>
  <text x="170" y="380" font-family="Arial" font-size="10">adapts</text>
  
  <!-- Monitoring connections -->
  <line x1="110" y1="100" x2="110" y2="450" stroke="black" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="110" y1="450" x2="530" y2="450" stroke="black" stroke-width="1" stroke-dasharray="5,5"/>
  <line x1="530" y1="450" x2="530" y2="320" stroke="black" stroke-width="1" stroke-dasharray="5,5"/>
  <polygon points="530,320 526,328 534,328" fill="black"/>
  <text x="300" y="445" font-family="Arial" font-size="10">tracks</text>
  
  <!-- State management -->
  <line x1="270" y1="100" x2="270" y2="480" stroke="black" stroke-width="1"/>
  <line x1="270" y1="480" x2="340" y2="480" stroke="black" stroke-width="1"/>
  <line x1="340" y1="480" x2="340" y2="320" stroke="black" stroke-width="1"/>
  <polygon points="340,320 336,328 344,328" fill="black"/>
  <text x="275" y="475" font-family="Arial" font-size="10">manages</text>
  
  <!-- Interface implementations -->
  <line x1="320" y1="180" x2="330" y2="190" stroke="black" stroke-width="1" stroke-dasharray="5,5"/>
  <polygon points="330,190 326,182 334,182" fill="white" stroke="black"/>
  <text x="335" y="185" font-family="Arial" font-size="9">implements</text>
  
  <line x1="520" y1="180" x2="490" y2="190" stroke="black" stroke-width="1" stroke-dasharray="5,5"/>
  <polygon points="490,190 494,182 486,182" fill="white" stroke="black"/>
  <text x="495" y="185" font-family="Arial" font-size="9">implements</text>
</svg>